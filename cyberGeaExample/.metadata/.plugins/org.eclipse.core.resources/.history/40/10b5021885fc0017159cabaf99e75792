package org.cyberGea.eventGenerators;

import org.osgi.framework.BundleActivator;
import org.osgi.framework.BundleContext;

public class Activator implements BundleActivator
{
	DataPublisher publisher;
	TemperatureSensor first;
	PressureSensor soilChecker;	
	HumiditySensor humidSensor;
	LightSensor lightChecker;
	AirSensor airChecker;
	Camera camera;
	/*
	 * (non-Javadoc)
	 * @see org.osgi.framework.BundleActivator#start(org.osgi.framework.BundleContext)
	 */
	
	public void start(BundleContext context) throws Exception
	{
		publisher = new DataPublisher();
		System.out.println("Starting Sensors...");
		first = new TemperatureSensor(publisher, 10, 60, "tempS1");
		
		/*soilChecker=new PressureSensor(publisher,20,30,"soilS1");
		humidSensor=new HumiditySensor(publisher, 30, 40, "humidS1");
		lightChecker=new LightSensor(publisher, 20, 50, "lightS1");
		airChecker= new AirSensor(publisher, 3, 5, "airS1");
		//camera=new Camera(publisher,0,100,"cameraS1");
		*/
		
	}
	/*
	 * (non-Javadoc)
	 * @see org.osgi.framework.BundleActivator#stop(org.osgi.framework.BundleContext)
	 */
	
	public void stop(BundleContext context) throws Exception 
	{
		first.stopSensing();
		publisher.publisherDisconnection();
		soilChecker.stopMeasure();
		//humidSensor.stopHumiditySensor();
		System.out.println("Sensors have been stopped");
	}
	
	

}
